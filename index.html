<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNBC Door Sign Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .label {
            font-style: italic;
            font-weight: 500;
        }

        .contact-info {
            font-style: italic;
            line-height: 1.2;
        }

        .contact-info div {
            margin-bottom: 4px;
        }

        .label {
            font-style: italic;
            font-weight: 500;
            margin-right: 4px;
        }

        .designation-option {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.2s ease;
            cursor: pointer;
            position: relative;
            margin: 2px 0;
        }

        .toggle-button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 20px;
            border-radius: 4px;
            border: none;
            background: #035b42;
            color: white;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            margin: 0;
            flex: 1;
            font-size: 14px;
        }

        .toggle-button.active {
            background: #023d2c;
        }

        .toggle-button:hover {
            background: #023d2c;
        }

        .toggle-button i {
            margin-right: 8px;
        }

        .toggle-buttons-container {
            display: flex;
            gap: 10px;
            margin: 16px 0;
        }

        .designation-option:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .designation-option input[type="checkbox"] {
            margin-right: 8px;
            position: relative;
            z-index: 2;
        }

        .designation-option label {
            cursor: pointer;
            user-select: none;
            transition: color 0.2s ease;
            position: relative;
            z-index: 2;
            flex: 1;
        }

        .designation-option input[type="checkbox"]:checked + label {
            color: #666;
            font-weight: 500;
        }

        .designation-option input[type="checkbox"]:checked ~ .designation-option {
            background-color: transparent;
        }

        .designation-option input[type="checkbox"]:checked + label::before {
            content: '';
            position: absolute;
            top: -8px;
            left: -12px;
            right: -12px;
            bottom: -8px;
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 4px;
            z-index: -1;
        }

        .designation-options {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 8px;
            margin-bottom: 16px;
        }

        .sign-header {
            background: #035b42;
            color: white;
            padding: 15px 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .unbc-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0px;
        }
        
        .unbc-logo svg {
            display: block;
            width: 200px;
            flex-shrink: 0;
            margin-bottom: -10px;
        }
        
        .alumni-badge {
            display: none;
            flex-shrink: 0;
            height: fit-content;
            margin-left: 20px;
        }
        
        .alumni-badge svg {
            width: 80px;
            height: auto;
        }

        .sign-content {
            display: flex;
            align-items: center;
            padding: 20px;
            background: white;
        }

        .main-content {
            flex: 1;
        }

        .alumni-badge {
            display: none;
            flex-shrink: 0;
            height: fit-content;
            margin-left: 20px;
            align-self: center;
        }

        .alumni-badge svg {
            width: 80px;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="controls">
            <h1>UNBC Door Sign Generator</h1>
            <form id="signForm">
                <div class="form-group">
                    <label for="signType">Sign Type</label>
                    <select id="signType" name="signType">
                        <option value="faculty">Faculty</option>
                        <option value="staff">Staff</option>
                        <option value="student">Student</option>
                        <option value="lab">Lab</option>
                        <option value="general">General Room</option>
                        <option value="custodian">Custodian Closet</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="mainDepartment">Department</label>
                    <select id="mainDepartment" name="mainDepartment">
                        <option value="">Select Department</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="subDepartment">Sub-Department</label>
                    <select id="subDepartment" name="subDepartment">
                        <option value="">Select Sub-Department</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter Name">
                </div>

                <div class="form-group">
                    <label for="position">Position</label>
                    <input type="text" id="position" name="position" placeholder="Enter Position">
                </div>

                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" placeholder="enter.email@unbc.ca">
                </div>

                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="tel" id="phone" name="phone" placeholder="250-960-XXXX" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}">
                </div>

                <div class="form-group">
                    <label for="roomName">Room Name</label>
                    <input type="text" id="roomName" name="roomName" placeholder="Enter room name">
                </div>

                <div class="form-group toggle-buttons-container">
                    <button type="button" id="alumniToggle" class="toggle-button">
                        <i>ðŸŽ“</i>
                        Show Alumni Badge
                    </button>
                    <button type="button" id="designationsToggle" class="toggle-button">
                        <i>ðŸ“œ</i>
                        Enable Designations
                    </button>
                </div>

                <div id="designationsContainer" class="form-group" style="display: none;">
                    <div class="designation-options">
                        <!-- Designations will be populated here -->
                    </div>
                    <div class="custom-designation">
                        <input type="text" id="customDesignation" placeholder="Enter custom designation">
                        <button type="button" id="addCustomDesignation">Add</button>
                    </div>
                    <div id="selectedDesignations" class="selected-designations"></div>
                </div>

                <button type="button" id="exportBtn" class="export-btn">Export Sign</button>
            </form>
        </div>

        <div class="preview">
            <div class="door-sign">
                <div class="sign-header">
                    <div class="unbc-logo">
                        <svg id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" width="178" height="80" viewBox="0 0 178 80">
                            <g id="Layer_1-2" data-name="Layer 1">
                                <g id="logoAndTextGroup" transform="translate(0, 15)">
                                    <text transform="translate(57.73 36.56)" fill="#fff" font-family="HelveticaNeue-Black, 'Helvetica Neue'" font-size="8.23" font-weight="800" id="svgDepartmentText" xml:space="preserve"><tspan x="0" y="0"></tspan></text>
                                    <g>
                                        <g>
                                            <polygon points="17.3 6.57 12.41 30.68 16.66 30.68 19.93 14.87 22.34 23.75 26.4 23.75 31.22 0 27.13 0 24.14 14.98 21.39 6.57 17.3 6.57" fill="#fff"/>
                                            <path d="M33.14,17.24l.41-2.01h1.83c1.14,0,1.98.57,1.89,2.04-.12,1.97-1.62,2.7-2.3,2.69h-2.39l.56-2.72-3.98-1.24-1.59,7.75h7.79c2.43,0,5.84-2.22,6.09-6.1.2-3.15-.73-4.02-2.1-5.03.98-.93,1.24-1.59,1.21-3.06-.04-1.74-1.25-2.96-2.59-3h-6.88l-.68,3.3,4.05.81.27-1.31h.97c.67.08.97.55.92,1.13-.1,1.1-.88,1.7-1.56,1.71h-.9l.31-1.53-4.05-.81-1.26,6.14,3.98,1.24Z" fill="#fff"/>
                                            <path d="M6.81,20.09c-1.01,0-2.4-.25-2.21-1.31l2.61-12.26H2.89S.53,17.64.06,19.84c-.47,2.2,1.65,4.35,5.84,4.35s6.91-2.07,7.41-4.44c.5-2.37,2.81-13.23,2.81-13.23h-4.35l-2.6,12.22c-.24.93-1.34,1.35-2.36,1.35" fill="#fff" fill-rule="evenodd"/>
                                            <path d="M54.97,6.3c-3.69-.47-11.12,1.16-12.75,8.84-1.63,7.68,5.29,9.62,9.03,9.06l1.08-5.09c-3.62.82-6.22-.35-5.44-4.01.77-3.62,4.08-5,7.08-4.31l1-4.48" fill="#fff" fill-rule="evenodd"/>
                                            <path d="M63.66,8.1l-.78,3.66c-.25,1.16-1.18,2.13-2.72,2.13s-1.96-.97-1.74-2.03l.8-3.76h.76l-.76,3.55c-.26,1.23.41,1.56,1.1,1.56s1.55-.32,1.81-1.55l.76-3.57h.76Z" fill="#fff"/>
                                            <path d="M68.61,8.1h.74l-1.2,5.64h-.86l-1.9-4.56h-.02l-.97,4.56h-.74l1.2-5.64h.9l1.85,4.56h.02l.97-4.56Z" fill="#fff"/>
                                            <path d="M70.22,13.74h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                            <path d="M76.35,8.1h.86l-3.26,5.64h-.81l-.86-5.64h.85l.59,4.81h.02l2.62-4.81Z" fill="#fff"/>
                                            <path d="M81.01,13.74h-4.17l1.2-5.64h4.11l-.14.68h-3.35l-.37,1.73h3.09l-.14.68h-3.09l-.4,1.89h3.4l-.14.68Z" fill="#fff"/>
                                            <path d="M83.93,8.75h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM83.38,11.32h1.85c.91,0,.89.54.79,1.01-.05.21-.2,1.07-.17,1.41h.93l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                            <path d="M91.93,9.75c.15-.87-.52-1.15-1.16-1.15-.48,0-1.32.13-1.5.99-.1.48.2.64.52.72l1.53.37c.69.17,1.15.61.96,1.51-.28,1.34-1.6,1.71-2.57,1.71-1.05,0-1.39-.31-1.59-.54-.39-.43-.38-.9-.27-1.43h.72c-.22,1.02.55,1.32,1.28,1.32.55,0,1.51-.14,1.68-.95.13-.59-.11-.78-.99-1l-1.1-.27c-.35-.09-1.13-.35-.92-1.33.19-.88.94-1.74,2.31-1.74,1.97,0,1.92,1.18,1.82,1.8h-.72Z" fill="#fff"/>
                                            <path d="M93.8,13.74h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                            <path d="M95.82,8.1h4.58l-.14.68h-1.91l-1.06,4.97h-.76l1.06-4.97h-1.91l.14-.68Z" fill="#fff"/>
                                            <path d="M102.31,13.74h-.76l.48-2.27-1.41-3.37h.89l1.04,2.71,2.2-2.71h.9l-2.85,3.37-.48,2.27Z" fill="#fff"/>
                                            <path d="M112.36,10.92c-.28,1.33-1.23,2.29-2.45,2.29s-1.76-.97-1.48-2.29c.28-1.33,1.23-2.29,2.45-2.29s1.76.97,1.48,2.29ZM113.15,10.92c.26-1.22-.01-2.97-2.12-2.97s-3.12,1.75-3.38,2.97c-.26,1.22.01,2.97,2.12,2.97s3.12-1.75,3.38-2.97Z" fill="#fff"/>
                                            <path d="M114.29,13.74h-.76l1.2-5.64h3.91l-.14.68h-3.14l-.37,1.73h2.77l-.14.68h-2.77l-.54,2.56Z" fill="#fff"/>
                                            <path d="M62.93,17.59h.74l-1.2,5.64h-.86l-1.9-4.56h-.02l-.97,4.56h-.74l1.2-5.64h.9l1.85,4.56h.02l.97-4.56Z" fill="#fff"/>
                                            <path d="M68.69,20.42c-.28,1.33-1.23,2.29-2.45,2.29s-1.76-.97-1.48-2.29c.28-1.33,1.23-2.29,2.45-2.29s1.76.97,1.48,2.29ZM69.48,20.42c.26-1.22-.01-2.97-2.12-2.97s-3.12,1.75-3.38,2.97c-.26,1.22.01,2.97,2.12,2.97s3.12-1.75,3.38-2.97Z" fill="#fff"/>
                                            <path d="M71.7,18.25h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM71.15,20.82h1.85c.91,0,.89.54.79,1.01-.04.21-.2,1.07-.17,1.41h.94l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                            <path d="M75.93,17.59h4.58l-.14.68h-1.91l-1.06,4.97h-.76l1.06-4.97h-1.91l.14-.68Z" fill="#fff"/>
                                            <path d="M84.94,17.59h.76l-1.2,5.64h-.76l.56-2.63h-2.95l-.56,2.63h-.76l1.2-5.64h.76l-.5,2.33h2.95l.5-2.33Z" fill="#fff"/>
                                            <path d="M89.94,23.24h-4.16l1.2-5.64h4.11l-.14.68h-3.35l-.37,1.73h3.09l-.14.68h-3.09l-.4,1.89h3.4l-.14.68Z" fill="#fff"/>
                                            <path d="M92.85,18.25h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM92.31,20.82h1.85c.91,0,.89.54.79,1.01-.04.21-.2,1.07-.17,1.41h.94l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                            <path d="M101.55,17.59h.74l-1.2,5.64h-.86l-1.9-4.56h-.02l-.97,4.56h-.74l1.2-5.64h.9l1.85,4.56h.02l.97-4.56Z" fill="#fff"/>
                                            <path d="M106.28,18.25h1.38c.85,0,1.11.3,1,.82-.15.69-.64.91-1.37.91h-1.38l.37-1.74ZM104.45,23.24h2.43c1.25,0,2.08-.76,2.27-1.67.21-.97-.39-1.23-.73-1.37.68-.29.93-.81,1-1.18.16-.77-.24-1.42-1.29-1.42h-2.48l-1.2,5.64ZM105.78,20.6h1.5c.62,0,1.29.16,1.12.95-.13.63-.62,1.03-1.41,1.03h-1.63l.42-1.98Z" fill="#fff"/>
                                            <path d="M111.63,18.25h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM111.08,20.82h1.85c.91,0,.89.54.79,1.01-.05.21-.2,1.07-.17,1.41h.94l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                            <path d="M116.26,23.24h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                            <path d="M118.28,17.59h4.58l-.14.68h-1.91l-1.06,4.97h-.76l1.06-4.97h-1.91l.14-.68Z" fill="#fff"/>
                                            <path d="M123.25,23.24h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                            <path d="M128.81,19.24c.15-.87-.52-1.15-1.15-1.15-.48,0-1.32.13-1.5.99-.1.48.2.64.52.72l1.53.37c.69.17,1.15.61.96,1.51-.28,1.34-1.6,1.71-2.57,1.71-1.05,0-1.39-.31-1.59-.54-.39-.43-.38-.9-.27-1.43h.72c-.22,1.02.55,1.32,1.28,1.32.55,0,1.51-.14,1.68-.95.13-.59-.11-.78-.99-1l-1.1-.27c-.35-.09-1.13-.35-.92-1.33.19-.88.94-1.74,2.31-1.74,1.97,0,1.92,1.18,1.82,1.8h-.72Z" fill="#fff"/>
                                            <path d="M134.71,17.59h.76l-1.2,5.64h-.76l.56-2.63h-2.95l-.56,2.63h-.76l1.2-5.64h.76l-.5,2.33h2.95l.5-2.33Z" fill="#fff"/>
                                            <path d="M142.45,19.29c0-.99-.79-1.17-1.33-1.17-1.02,0-2.01.75-2.32,2.24-.28,1.33-.03,2.35,1.37,2.35.5,0,1.4-.24,1.94-1.55h.74c-.77,2.13-2.52,2.22-2.94,2.22-1.28,0-2.36-.83-1.9-3,.37-1.74,1.61-2.94,3.26-2.94,1.45,0,2.02.9,1.93,1.85h-.74Z" fill="#fff"/>
                                            <path d="M148.35,20.42c-.28,1.33-1.23,2.29-2.45,2.29s-1.76-.97-1.48-2.29c.28-1.33,1.23-2.29,2.45-2.29s1.76.97,1.48,2.29ZM149.14,20.42c.26-1.22-.01-2.97-2.12-2.97s-3.12,1.75-3.38,2.97c-.26,1.22.01,2.97,2.12,2.97s3.12-1.75,3.38-2.97Z" fill="#fff"/>
                                            <path d="M150.35,22.56h2.86l-.14.68h-3.62l1.2-5.64h.76l-1.06,4.97Z" fill="#fff"/>
                                            <path d="M159.48,17.59l-.78,3.66c-.25,1.16-1.18,2.13-2.72,2.13s-1.96-.97-1.74-2.03l.8-3.76h.76l-.76,3.55c-.26,1.23.41,1.56,1.1,1.56s1.55-.32,1.81-1.55l.76-3.57h.76Z" fill="#fff"/>
                                            <path d="M164.13,23.24l.71-3.33c.03-.17.2-.88.31-1.41h-.02l-2.59,4.74h-.75l-.58-4.73h-.02c-.11.52-.25,1.23-.28,1.4l-.71,3.33h-.74l1.2-5.64h1.09l.6,4.77h.02l2.62-4.77h1.08l-1.2,5.64h-.74Z" fill="#fff"/>
                                            <path d="M167.84,18.25h1.38c.85,0,1.11.3,1,.82-.15.69-.64.91-1.37.91h-1.38l.37-1.74ZM166.02,23.24h2.43c1.25,0,2.08-.76,2.27-1.67.21-.97-.39-1.23-.73-1.37.68-.29.93-.81,1-1.18.16-.77-.24-1.42-1.29-1.42h-2.48l-1.2,5.64ZM167.34,20.6h1.5c.62,0,1.29.16,1.12.95-.13.63-.62,1.03-1.41,1.03h-1.63l.42-1.98Z" fill="#fff"/>
                                            <path d="M172.15,23.24h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                            <path d="M175.08,20.92l1.43-2.48h.02l.3,2.48h-1.75ZM176.96,21.59l.21,1.64h.83l-.84-5.64h-.86l-3.32,5.64h.79l.94-1.64h2.26Z" fill="#fff"/>
                                        </g>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
                <div class="sign-content">
                    <div class="main-content">
                        <div class="name-title"></div>
                        <div class="department-info"></div>
                        <div class="contact-info"></div>
                        <div class="designations-display"></div>
                    </div>
                    <div class="alumni-badge">
                        <svg id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59.27 67.82">
                            <defs>
                                <style>
                                    .cls-1 { fill: #c2952d; }
                                    .cls-2 { fill: #231f20; }
                                    .cls-3 { fill: #fff; }
                                    .cls-4 { fill: #055b42; }
                                </style>
                            </defs>
                            <g id="Layer_1-2" data-name="Layer 1">
                                <g>
                                    <rect class="cls-1" x=".47" y="36.17" width="58.33" height="11.08"/>
                                    <path class="cls-2" d="M58.34,36.17v11.08l.46-.47H.47l.46.47v-11.08l-.46.47h58.33l-.46-.47ZM0,36.17v11.54h59.27v-12.01H0v.47Z"/>
                                    <path class="cls-4" d="M7.3,2.21v28.04c.23,5.53,1.73,16.08,9.29,24.44,5.9,6.52,8.28,8.89,13.2,12.56,5.06-3.76,7.59-6.18,13.19-12.55,8.91-10.15,9.17-22.65,9.17-24.04V2.21H7.3Z"/>
                                    <path class="cls-2" d="M51.69,2.21v28.45c0,1.37-.25,13.72-9.05,23.74-5.62,6.4-8.08,8.73-13.12,12.48h.56c-4.93-3.67-7.23-5.96-13.13-12.5-7.46-8.24-8.95-18.66-9.17-24.14,0,.02,0-28.02,0-28.02l-.47.47h44.85l-.46-.47ZM6.84,2.21v28.04c.23,5.62,1.76,16.29,9.41,24.75,5.86,6.48,8.32,8.93,13.27,12.62l.28.21.28-.21c5.05-3.75,7.65-6.23,13.26-12.61,9.02-10.28,9.28-22.94,9.28-24.35V1.74H6.84v.47Z"/>
                                    <path class="cls-1" d="M30,33.04s.43.85.85,1.02c.43.17.43.51.34.94-.08.43-.17.68.09,1.02.26.34.17,1.02,0,1.36-.17.34.17.6.68.43.51-.17,1.02.43.85.68-.17.25-.77,1.88-.08,1.88s1.11.51.85.85c-.25.34.26,1.36-.34,1.62-.6.26-.43.68-.43.68,0,0,1.36,0,1.62.43.26.43.51.77.09,1.19-.43.43-.17,1.02-.17,1.02,0,0,.43.17.77.09.34-.09.77.51.34.77-.43.26-.17.68-.17.68,0,0,.43.34.76.17.34-.17.69.85.18,1.11-.51.26-.77.77-.77.77,0,0,.77-.08.77.34s-.51.77-.43,1.11c.09.34.6.6.94.43.34-.17,1.36.09.94.51-.43.43-.68,1.11-1.02,1.19,0,0,.08.34.08.68s-.68.6-1.19.51c-.51-.08-1.96-.08-2.39.17-.43.25-.85.51-1.36.43-.51-.09-1.19-.17-1.19-.17,0,0,.14,1.7.41,1.76.66.17,2.06.45,2.66.88.6.43,1.11.94,1.02,2.13,0,0-.51-1.36-1.96-1.36.6.94,1.28,2.73-.68,4.09.17-.68.26-2.13-.94-2.9-.34,1.28-.77,3.49-2.22,3.75,0,0,1.62-2.81.08-3.92-.94.68-1.87,1.79-1.7,2.64-.51-.26-1.62-1.62-.17-2.98-1.02-.17-2.05-.17-2.73.94.26-1.36,1.22-3.01,3.26-2.93,0,0,.95-1.13.6-1.82-1.45.17-2.33-.37-2.85-.11-.51.26-.85.6-1.28.51-.43-.08-.34-.85,0-1.11,0,0,0-.51-.43-.43-.43.08-.77-.17-.68-.43.09-.26-.68-.09-1.19-.34-.51-.26.43-.68.77-.68s1.28-.94,1.62-.94c0,0-.34-.68-.94-.85-.6-.17-1.02-.85-1.02-1.11s.26-.34.68-.43c.43-.09,1.19-.34,1.19-.34,0,0,.94-.77,1.45-.43.51.34.6-.09.6-.09,0,0-.34-.43-.77-.94-.43-.51-.34-.85-.34-.85,0,0-.34,0-.68-.34-.34-.34.17-.77.68-.77s1.11-.09,1.11-.09l.43-.51s-.26-.17-1.11-.43c-.85-.26-.85-.51-.43-.94.43-.43.09-.68.09-.68,0,0-.51-.34-.6-.68-.09-.34.6-1.02,1.02-.77.43.25.68,0,.68,0v-.94s-.51-.77-.34-1.11c.17-.34-.17-.51,1.02-.09l.43-.43s-.08-.43-.25-.85c-.17-.43-.34-.85,0-1.28.34-.43.85-.77.85-.77l.68-.94s-.6-.26-.43-.6c.17-.34,1.28-1.36,1.79-1.45"/>
                                    <rect class="cls-3" x="2.94" y="40.38" width="53.43" height="11.07"/>
                                    <polygon class="cls-3" points="23.31 13.42 20.24 28.6 22.91 28.6 24.97 18.65 26.48 24.24 29.04 24.24 32.08 9.29 29.5 9.29 27.62 18.71 25.89 13.42 23.31 13.42"/>
                                    <path class="cls-3" d="M33.29,20.14l.26-1.26h1.15c.72,0,1.24.36,1.19,1.28-.08,1.24-1.02,1.7-1.45,1.69h-1.51l.35-1.72-2.5-.78-1,4.88h4.91c1.53,0,3.68-1.39,3.83-3.84.13-1.98-.46-2.53-1.32-3.16.62-.59.78-1,.76-1.93-.02-1.1-.78-1.87-1.63-1.89h-4.33l-.43,2.07,2.55.51.17-.83h.61c.42.05.61.35.58.71-.06.69-.55,1.07-.98,1.07h-.57l.2-.96-2.55-.51-.79,3.86,2.5.78Z"/>
                                    <path class="cls-3" d="M16.71,21.94c-.64,0-1.51-.16-1.39-.82l1.64-7.72h-2.72s-1.49,7-1.78,8.38c-.29,1.38,1.04,2.74,3.68,2.74s4.35-1.3,4.67-2.79c.32-1.49,1.77-8.33,1.77-8.33h-2.74l-1.63,7.69c-.15.59-.85.85-1.48.85"/>
                                    <path class="cls-3" d="M47.03,13.25c-2.33-.3-7,.73-8.03,5.57-1.03,4.83,3.33,6.05,5.68,5.7l.68-3.2c-2.28.52-3.92-.22-3.43-2.53.48-2.28,2.57-3.15,4.46-2.72l.63-2.82Z"/>
                                    <rect class="cls-1" x="7.3" y=".47" width="44.85" height="4.02"/>
                                    <path class="cls-2" d="M51.69.47v4.02l.46-.47H7.31l.46.47V.47l-.46.47h44.85l-.46-.47ZM6.84.47v4.49h45.79V0H6.84v.47Z"/>
                                    <path class="cls-2" d="M12.86,48.96h1.33l.47-1.33h2.24l.45,1.33h1.37l-2.24-5.99h-1.35l-2.27,5.99ZM15.79,44.45h.02l.75,2.2h-1.55l.78-2.2ZM19.33,48.96h4.24v-1.11h-2.92v-4.88h-1.32v5.99ZM29.46,42.97h-1.32v3.72c0,.89-.3,1.3-1.24,1.3-1.06,0-1.23-.65-1.23-1.3v-3.72h-1.32v3.72c0,1.63.94,2.41,2.55,2.41s2.56-.79,2.56-2.41v-3.72ZM30.68,48.96h1.23v-4.2h.02l1.47,4.2h1.02l1.47-4.24h.02v4.24h1.23v-5.99h-1.85l-1.32,4.12h-.02l-1.4-4.12h-1.85v5.99ZM38.37,48.96h1.23v-4.01h.02l2.49,4.01h1.32v-5.99h-1.23v4.02h-.02l-2.5-4.02h-1.31v5.99ZM44.66,48.96h1.32v-5.99h-1.32v5.99Z"/>
                                    <path class="cls-2" d="M55.9,50.98H3.4v-10.14h52.5v10.14ZM56.81,39.91l-5.47-2.41c-.1.5-.23,1.02-.36,1.56H8.56c-.14-.56-.27-1.12-.38-1.66l-5.69,2.52h-.02v12h54.36v-12h-.02Z"/>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
        // Department data structure
        const departmentData = {
            "Faculty of Business and Economics": {
                "Accounting": ["Accounting"],
                "Finance": ["Finance"],
                "Marketing": ["Marketing"],
                "Management": ["Management"],
                "Economics": ["Economics"]
            },
            "Faculty of Environment": {
                "Ecosystem Science and Management": ["Ecosystem Science and Management"],
                "Environmental Planning": ["Environmental Planning"],
                "Environmental Science": ["Environmental Science"],
                "Forestry": ["Forestry"],
                "Geography": ["Geography"],
                "Natural Resources Management": ["Natural Resources Management"],
                "Outdoor Recreation and Tourism Management": ["Outdoor Recreation and Tourism Management"],
                "Wildlife and Fisheries": ["Wildlife and Fisheries"]
            },
            "Faculty of Human and Health Sciences": {
                "Health Sciences": ["Health Sciences"],
                "Nursing": ["Nursing"],
                "Psychology": ["Psychology"],
                "Social Work": ["Social Work"]
            },
            "Faculty of Indigenous Studies, Social Sciences and Humanities": {
                "Anthropology": ["Anthropology"],
                "English": ["English"],
                "First Nations Studies": ["First Nations Studies"],
                "History": ["History"],
                "International Studies": ["International Studies"],
                "Political Science": ["Political Science"],
                "Sociology": ["Sociology"],
                "Women's Studies": ["Women's Studies"]
            },
            "Faculty of Science and Engineering": {
                "Biology": ["Biology"],
                "Chemistry": ["Chemistry"],
                "Computer Science": ["Computer Science"],
                "Environmental Engineering": ["Environmental Engineering"],
                "Mathematics": ["Mathematics"],
                "Physics": ["Physics"]
            },
            "School of Education": {
                "Education": ["Education"]
            },
            "School of Planning and Sustainability": {
                "Community Planning": ["Community Planning"],
                "Environmental Planning": ["Environmental Planning"],
                "Sustainability": ["Sustainability"]
            }
        };

        // DOM Elements
        const signForm = document.getElementById('signForm');
        const signType = document.getElementById('signType');
        const mainDepartment = document.getElementById('mainDepartment');
        const subDepartment = document.getElementById('subDepartment');
        const nameInput = document.getElementById('name');
        const positionInput = document.getElementById('position');
        const emailInput = document.getElementById('email');
        const phoneInput = document.getElementById('phone');
        const roomNameInput = document.getElementById('roomName');
        const alumniToggle = document.getElementById('alumniToggle');
        const designationsToggle = document.getElementById('designationsToggle');
        const designationsContainer = document.getElementById('designationsContainer');
        const exportBtn = document.getElementById('exportBtn');
        const signContent = document.querySelector('.sign-content .main-content');
        const alumniBadge = document.querySelector('.alumni-badge');

        // Designation list
        const designationList = [
            "PhD", "MD", "JD", "MBA", "MSc", "MA", "BSc", "BA", "BEng", "BBA",
            "PEng", "PGeo", "P.Ag", "RPF", "RPP", "MCIP", "CPA", "CA", "CMA", "CGA"
        ];

        // Format phone number
        function formatPhoneNumber(input) {
            let value = input.value.replace(/\D/g, '');
            if (value.length > 0) {
                if (value.length <= 3) {
                    input.value = value;
                } else if (value.length <= 6) {
                    input.value = value.slice(0, 3) + '-' + value.slice(3);
                } else {
                    input.value = value.slice(0, 3) + '-' + value.slice(3, 6) + '-' + value.slice(6, 10);
                }
            }
        }

        // Update selected designations display
        function updateSelectedDesignations() {
            const selectedDesignations = document.getElementById('selectedDesignations');
            const checkedDesignations = Array.from(document.querySelectorAll('input[name="designations"]:checked'))
                .map(checkbox => checkbox.value);
            
            selectedDesignations.innerHTML = checkedDesignations.length > 0 
                ? `<strong>Selected Designations:</strong> ${checkedDesignations.join(', ')}`
                : '';
            
            // Update the sign preview when designations change
            updateSign();
        }

        // Initialize designation options
        function initializeDesignationOptions() {
            const designationOptions = document.querySelector('.designation-options');
            designationOptions.innerHTML = '';
            
            designationList.forEach(designation => {
                const div = document.createElement('div');
                div.className = 'designation-option';
                
                const checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                checkbox.name = 'designations';
                checkbox.value = designation;
                checkbox.id = `designation-${designation}`;
                checkbox.addEventListener('change', updateSelectedDesignations);
                
                const label = document.createElement('label');
                label.htmlFor = `designation-${designation}`;
                label.textContent = designation;
                
                div.appendChild(checkbox);
                div.appendChild(label);
                designationOptions.appendChild(div);
            });

            // Add custom designation functionality
            const customDesignationInput = document.getElementById('customDesignation');
            const addCustomDesignationBtn = document.getElementById('addCustomDesignation');
            
            addCustomDesignationBtn.addEventListener('click', () => {
                const customValue = customDesignationInput.value.trim();
                if (customValue) {
                    const div = document.createElement('div');
                    div.className = 'designation-option';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.name = 'designations';
                    checkbox.value = customValue;
                    checkbox.id = `designation-${customValue}`;
                    checkbox.addEventListener('change', updateSelectedDesignations);
                    
                    const label = document.createElement('label');
                    label.htmlFor = `designation-${customValue}`;
                    label.textContent = customValue;
                    
                    div.appendChild(checkbox);
                    div.appendChild(label);
                    designationOptions.appendChild(div);
                    
                    customDesignationInput.value = '';
                }
            });
        }

        // Update SVG text
        function updateSVGText(department) {
            const svgDoc = document.querySelector('.unbc-logo svg');
            if (svgDoc) {
                const svgText = svgDoc.querySelector('#svgDepartmentText');
                if (svgText) {
                    // Clear existing tspans
                    svgText.innerHTML = '';
                    
                    if (department) {
                        // Split text into words
                        const words = department.split(' ');
                        let currentLine = '';
                        let lines = [];
                        
                        // Create lines with max 25 characters
                        words.forEach(word => {
                            if (currentLine.length + word.length + 1 <= 25) {
                                currentLine += (currentLine ? ' ' : '') + word;
                            } else {
                                lines.push(currentLine);
                                currentLine = word;
                            }
                        });
                        if (currentLine) {
                            lines.push(currentLine);
                        }
                        
                        // Create tspans for each line
                        lines.forEach((line, index) => {
                            const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
                            tspan.setAttribute('x', '0');
                            tspan.setAttribute('y', index * 10); // Adjust line spacing
                            tspan.textContent = line;
                            svgText.appendChild(tspan);
                        });
                    }
                }
            }
        }

        // Populate main departments
        function populateMainDepartments() {
            mainDepartment.innerHTML = '<option value="">Select Department</option>';
            Object.keys(departmentData).forEach(dept => {
                const option = document.createElement('option');
                option.value = dept;
                option.textContent = dept;
                mainDepartment.appendChild(option);
            });
        }

        // Populate sub-departments
        function populateSubDepartments(mainDept) {
            subDepartment.innerHTML = '<option value="">Select Sub-Department</option>';
            if (mainDept && departmentData[mainDept]) {
                Object.keys(departmentData[mainDept]).forEach(subDept => {
                    const option = document.createElement('option');
                    option.value = subDept;
                    option.textContent = subDept;
                    subDepartment.appendChild(option);
                });
            }
        }

        // Wrap text function
        function wrapText(text, maxWidth) {
            const words = text.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                const word = words[i];
                const width = currentLine.length + word.length + 1;
                if (width < maxWidth) {
                    currentLine += " " + word;
                } else {
                    lines.push(currentLine);
                    currentLine = word;
                }
            }
            lines.push(currentLine);
            return lines;
        }

        // Update sign preview
        function updateSign() {
            const type = signType.value;
            const mainDept = mainDepartment.value;
            const subDept = subDepartment.value;
            const name = nameInput.value;
            const position = positionInput.value;
            const email = emailInput.value;
            const phone = phoneInput.value;
            const roomName = roomNameInput.value;
            const isAlumni = alumniToggle.classList.contains('active');
            const enableDesignations = designationsToggle.classList.contains('active');

            // Update SVG text with department
            const displayDept = subDept && subDept !== 'none' ? subDept : mainDept;
            updateSVGText(displayDept);

            // Update alumni badge visibility
            alumniBadge.style.display = isAlumni ? 'block' : 'none';

            // Clear previous content
            const nameTitle = document.querySelector('.name-title');
            const contactInfo = document.querySelector('.contact-info');
            const designationsDisplay = document.querySelector('.designations-display');
            
            nameTitle.innerHTML = '';
            contactInfo.innerHTML = '';
            designationsDisplay.innerHTML = '';

            // Check if any input has been modified
            const hasUserInput = name || position || email || phone || roomName || mainDept || subDept || isAlumni || enableDesignations;

            // Create and append content based on sign type
            if (!hasUserInput) {
                // Show template
                const nameElement = document.createElement('div');
                nameElement.className = 'main-title';
                nameElement.textContent = 'Enter Name';
                nameTitle.appendChild(nameElement);

                const positionElement = document.createElement('div');
                positionElement.className = 'position';
                positionElement.textContent = 'Enter Position';
                nameTitle.appendChild(positionElement);

                contactInfo.innerHTML = `
                    <div><span class="label">Email:</span> enter.email@unbc.ca</div>
                    <div><span class="label">Phone:</span> 250-960-XXXX</div>
                `;

                designationsDisplay.textContent = 'PhD';
                alumniBadge.style.display = 'block';
                return;
            }

            if (type === 'faculty' || type === 'staff') {
                // Name and title
                if (name) {
                    const nameElement = document.createElement('div');
                    nameElement.className = 'main-title';
                    nameElement.textContent = name;
                    nameTitle.appendChild(nameElement);
                }

                if (position) {
                    const positionElement = document.createElement('div');
                    positionElement.className = 'position';
                    positionElement.textContent = position;
                    nameTitle.appendChild(positionElement);
                }

                // Contact info
                if (email || phone || roomName) {
                    if (email) contactInfo.innerHTML += `<div><span class="label">Email:</span> ${email}</div>`;
                    if (phone) contactInfo.innerHTML += `<div><span class="label">Phone:</span> ${phone}</div>`;
                    if (roomName) contactInfo.innerHTML += `<div>${roomName}</div>`;
                }

                // Designations
                if (enableDesignations) {
                    const selectedDesignations = Array.from(document.querySelectorAll('input[name="designations"]:checked'))
                        .map(checkbox => checkbox.value);
                    if (selectedDesignations.length > 0) {
                        const designationsText = selectedDesignations.join(', ');
                        designationsDisplay.textContent = designationsText;
                    }
                }
            } else if (type === 'lab' || type === 'general' || type === 'custodian') {
                if (roomName) {
                    const roomElement = document.createElement('div');
                    roomElement.className = 'main-title';
                    roomElement.textContent = roomName;
                    nameTitle.appendChild(roomElement);
                }
            }
        }

        // Event Listeners
        signType.addEventListener('change', () => {
            const type = signType.value;
            positionInput.parentElement.style.display = type === 'faculty' || type === 'staff' ? 'block' : 'none';
            emailInput.parentElement.style.display = type === 'faculty' || type === 'staff' ? 'block' : 'none';
            phoneInput.parentElement.style.display = type === 'faculty' || type === 'staff' ? 'block' : 'none';
            alumniToggle.parentElement.style.display = type === 'faculty' || type === 'staff' ? 'block' : 'none';
            designationsToggle.parentElement.style.display = type === 'faculty' || type === 'staff' ? 'block' : 'none';
            updateSign();
        });

        mainDepartment.addEventListener('change', () => {
            populateSubDepartments(mainDepartment.value);
            updateSign();
        });

        subDepartment.addEventListener('change', updateSign);

        [nameInput, positionInput, emailInput, phoneInput, roomNameInput].forEach(input => {
            input.addEventListener('input', updateSign);
        });

        alumniToggle.addEventListener('click', () => {
            alumniToggle.classList.toggle('active');
            updateSign();
        });

        designationsToggle.addEventListener('click', () => {
            designationsToggle.classList.toggle('active');
            designationsContainer.style.display = designationsToggle.classList.contains('active') ? 'block' : 'none';
        });

        // Export functionality
        exportBtn.addEventListener('click', () => {
            const doorSign = document.querySelector('.door-sign');
            html2canvas(doorSign).then(canvas => {
                const link = document.createElement('a');
                link.download = 'unbc-door-sign.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        });

        // Event Listeners
        phoneInput.addEventListener('input', function() {
            formatPhoneNumber(this);
        });

        phoneInput.addEventListener('blur', function() {
            if (this.value && !this.value.match(/^\d{3}-\d{3}-\d{4}$/)) {
                this.value = '';
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initializeDesignationOptions();
            populateMainDepartments();
            updateSign();
        });
    </script>
</body>
</html> 