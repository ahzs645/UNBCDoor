<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNBC Door Sign Generator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-items: start;
        }
        
        .controls {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        
        .preview {
            position: sticky;
            top: 20px;
        }
        
        h1 {
            color: #2d3748;
            font-size: 2rem;
            font-weight: 900;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 25px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        select, input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .door-sign {
            width: 500px;
            height: 300px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
            position: relative;
            margin: 0 auto;
        }
        
        .sign-header {
            background: #035b42;
            color: white;
            padding: 15px 20px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }
        
        .unbc-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0px;
        }
        
        .unbc-logo svg {
            display: block;
            width: 200px;
            flex-shrink: 0;
            margin-bottom: -10px;
        }
        
        .unbc-text-group {
            display: flex;
            flex-direction: column;
        }
        
        .unbc-text-logo,
        .unbc-text {
            display: none;
        }
        
        .unbc-text {
            font-size: 12px;
            font-weight: 600;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            line-height: 1.2;
            margin-bottom: 3px;
        }
        
        .department-name {
            font-size: 11px;
            font-weight: 400;
            color: white;
            text-align: center;
        }
        
        .alumni-badge {
            display: none;
            flex-shrink: 0;
            height: fit-content;
            margin-left: 20px;
        }
        
        .alumni-badge svg {
            width: 80px;
            height: auto;
        }
        
        .sign-content {
            padding: 25px;
            height: 220px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: relative;
        }
        
        .main-content {
            flex: 1;
        }
        
        .main-title {
            font-size: 36px;
            font-weight: 900;
            color: #1a202c;
            line-height: 1.1;
            margin-bottom: 15px;
            font-family: 'Helvetica Neue', sans-serif;
        }
        
        .position {
            font-size: 18px;
            color: #4a5568;
            margin-bottom: 20px;
            font-weight: 400;
            display: block !important;
            font-family: 'Helvetica Neue', sans-serif;
        }
        
        .contact-info {
            font-size: 14px;
            color: #2d3748;
            line-height: 1.4;
            display: block !important;
            font-family: 'Helvetica Neue', sans-serif;
        }
        
        .contact-info div {
            margin-bottom: 3px;
        }
        
        .email {
            font-style: italic;
        }
        
        .phone {
            font-style: italic;
        }
        
        .designations-display {
            font-size: 36px; /* Same as .main-title */
            font-weight: 900; /* Same as .main-title */
            color: #1a202c; /* Same as .main-title */
            line-height: 1.1; /* Same as .main-title */
            font-family: 'Helvetica Neue', sans-serif; /* Same as .main-title */
            margin-top: -15px;
            margin-bottom: 5px; /* Reduce space below the name */
        }
        
        .export-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin-top: 20px;
            width: 100%;
        }
        
        .export-btn:hover {
            transform: translateY(-2px);
        }
        
        .general-room {
            text-align: center;
        }
        
        .general-room .main-title {
            font-size: 48px;
            margin-bottom: 0;
        }
        
        .custodian-closet {
            text-align: left;
        }
        
        .custodian-closet .main-title {
            font-size: 42px;
            line-height: 1;
            margin-bottom: 0;
        }
        
        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .door-sign {
                transform: scale(0.8);
                transform-origin: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="controls">
            <h1>ðŸšª UNBC Door Sign Generator</h1>
            
            <div class="form-group">
                <label for="signType">Sign Type</label>
                <select id="signType">
                    <option value="faculty">Faculty Door Sign</option>
                    <option value="staff">Staff Door Sign</option>
                    <option value="lab">Lab Sign</option>
                    <option value="general">General Room Sign</option>
                    <option value="custodian">Custodian Closet</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="mainDepartment">Main Department/Faculty</label>
                <select id="mainDepartment">
                    <!-- Options will be added by JavaScript -->
                </select>
            </div>

            <div id="subDepartmentGroup" class="form-group" style="display: none;">
                <label for="subDepartment">Sub-Department/Program</label>
                <select id="subDepartment">
                    <!-- Options will be added by JavaScript -->
                </select>
            </div>
            
            <div id="isAlumniGroup" class="form-group">
                <label>
                    <input type="checkbox" id="isAlumni"> Alumni Version
                </label>
            </div>

            <div id="designationsToggle" class="form-group">
                <label>
                    <input type="checkbox" id="enableDesignations"> Enable Designations
                </label>
            </div>

            <div id="designationField" class="form-group" style="display: none;">
                <label>Professional Designations</label>
                <div class="designation-options" id="designationOptions">
                    <label class="designation-checkbox">
                        <input type="checkbox" value="PhD"> PhD
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="MSc"> MSc
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="MA"> MA
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="MEd"> MEd
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="MBA"> MBA
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="MD"> MD
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="JD"> JD
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="PEng"> PEng
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="PE"> PE
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="CPA"> CPA
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="CA"> CA
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="CGA"> CGA
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="RN"> RN
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="RPsych"> RPsych
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="RSW"> RSW
                    </label>
                    <label class="designation-checkbox">
                        <input type="checkbox" value="BCLS"> BCLS
                    </label>
                </div>
                <div class="custom-designation">
                    <input type="text" id="customDesignation" placeholder="Add custom designation (e.g., FRSC, FCAE)">
                </div>
            </div>
            
            <div id="nameField" class="form-group">
                <label for="name">Name</label>
                <input type="text" id="name" placeholder="Enter name">
            </div>
            
            <div id="positionField" class="form-group">
                <label for="position">Position/Title</label>
                <input type="text" id="position" placeholder="Enter position">
            </div>
            
            <div id="emailField" class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" placeholder="Enter email">
            </div>
            
            <div id="phoneField" class="form-group">
                <label for="phone">Phone</label>
                <input type="tel" id="phone" placeholder="250-960-XXXX">
            </div>
            
            <div id="roomField" class="form-group" style="display: none;">
                <label for="roomName">Room Name</label>
                <input type="text" id="roomName" placeholder="Enter room name">
            </div>
            
            <button class="export-btn" onclick="exportSign()">ðŸ“¥ Export as PNG</button>
        </div>
        
        <div class="preview">
            <div class="door-sign" id="doorSign">
                <div class="sign-header">
                    <div class="unbc-logo">
                        <?xml version="1.0" encoding="UTF-8"?>
                            <svg id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" width="178" height="80" viewBox="0 0 178 80">
                            <g id="Layer_1-2" data-name="Layer 1">
                                <g id="logoAndTextGroup" transform="translate(0, 15)">
                                <text transform="translate(57.73 36.56)" fill="#fff" font-family="HelveticaNeue-Black, &apos;Helvetica Neue&apos;" font-size="8.23" font-weight="800" id="svgDepartmentText" xml:space="preserve"><tspan x="0" y="0">School of Engineering</tspan></text>
                                <g>
                                    <g>
                                    <polygon points="17.3 6.57 12.41 30.68 16.66 30.68 19.93 14.87 22.34 23.75 26.4 23.75 31.22 0 27.13 0 24.14 14.98 21.39 6.57 17.3 6.57" fill="#fff"/>
                                    <path d="M33.14,17.24l.41-2.01h1.83c1.14,0,1.98.57,1.89,2.04-.12,1.97-1.62,2.7-2.3,2.69h-2.39l.56-2.72-3.98-1.24-1.59,7.75h7.79c2.43,0,5.84-2.22,6.09-6.1.2-3.15-.73-4.02-2.1-5.03.98-.93,1.24-1.59,1.21-3.06-.04-1.74-1.25-2.96-2.59-3h-6.88l-.68,3.3,4.05.81.27-1.31h.97c.67.08.97.55.92,1.13-.1,1.1-.88,1.7-1.56,1.71h-.9l.31-1.53-4.05-.81-1.26,6.14,3.98,1.24Z" fill="#fff"/>
                                    <path d="M6.81,20.09c-1.01,0-2.4-.25-2.21-1.31l2.61-12.26H2.89S.53,17.64.06,19.84c-.47,2.2,1.65,4.35,5.84,4.35s6.91-2.07,7.41-4.44c.5-2.37,2.81-13.23,2.81-13.23h-4.35l-2.6,12.22c-.24.93-1.34,1.35-2.36,1.35" fill="#fff" fill-rule="evenodd"/>
                                    <path d="M54.97,6.3c-3.69-.47-11.12,1.16-12.75,8.84-1.63,7.68,5.29,9.62,9.03,9.06l1.08-5.09c-3.62.82-6.22-.35-5.44-4.01.77-3.62,4.08-5,7.08-4.31l1-4.48" fill="#fff" fill-rule="evenodd"/>
                                    <path d="M63.66,8.1l-.78,3.66c-.25,1.16-1.18,2.13-2.72,2.13s-1.96-.97-1.74-2.03l.8-3.76h.76l-.76,3.55c-.26,1.23.41,1.56,1.1,1.56s1.55-.32,1.81-1.55l.76-3.57h.76Z" fill="#fff"/>
                                    <path d="M68.61,8.1h.74l-1.2,5.64h-.86l-1.9-4.56h-.02l-.97,4.56h-.74l1.2-5.64h.9l1.85,4.56h.02l.97-4.56Z" fill="#fff"/>
                                    <path d="M70.22,13.74h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                    <path d="M76.35,8.1h.86l-3.26,5.64h-.81l-.86-5.64h.85l.59,4.81h.02l2.62-4.81Z" fill="#fff"/>
                                    <path d="M81.01,13.74h-4.17l1.2-5.64h4.11l-.14.68h-3.35l-.37,1.73h3.09l-.14.68h-3.09l-.4,1.89h3.4l-.14.68Z" fill="#fff"/>
                                    <path d="M83.93,8.75h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM83.38,11.32h1.85c.91,0,.89.54.79,1.01-.05.21-.2,1.07-.17,1.41h.93l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                    <path d="M91.93,9.75c.15-.87-.52-1.15-1.16-1.15-.48,0-1.32.13-1.5.99-.1.48.2.64.52.72l1.53.37c.69.17,1.15.61.96,1.51-.28,1.34-1.6,1.71-2.57,1.71-1.05,0-1.39-.31-1.59-.54-.39-.43-.38-.9-.27-1.43h.72c-.22,1.02.55,1.32,1.28,1.32.55,0,1.51-.14,1.68-.95.13-.59-.11-.78-.99-1l-1.1-.27c-.35-.09-1.13-.35-.92-1.33.19-.88.94-1.74,2.31-1.74,1.97,0,1.92,1.18,1.82,1.8h-.72Z" fill="#fff"/>
                                    <path d="M93.8,13.74h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                    <path d="M95.82,8.1h4.58l-.14.68h-1.91l-1.06,4.97h-.76l1.06-4.97h-1.91l.14-.68Z" fill="#fff"/>
                                    <path d="M102.31,13.74h-.76l.48-2.27-1.41-3.37h.89l1.04,2.71,2.2-2.71h.9l-2.85,3.37-.48,2.27Z" fill="#fff"/>
                                    <path d="M112.36,10.92c-.28,1.33-1.23,2.29-2.45,2.29s-1.76-.97-1.48-2.29c.28-1.33,1.23-2.29,2.45-2.29s1.76.97,1.48,2.29ZM113.15,10.92c.26-1.22-.01-2.97-2.12-2.97s-3.12,1.75-3.38,2.97c-.26,1.22.01,2.97,2.12,2.97s3.12-1.75,3.38-2.97Z" fill="#fff"/>
                                    <path d="M114.29,13.74h-.76l1.2-5.64h3.91l-.14.68h-3.14l-.37,1.73h2.77l-.14.68h-2.77l-.54,2.56Z" fill="#fff"/>
                                    <path d="M62.93,17.59h.74l-1.2,5.64h-.86l-1.9-4.56h-.02l-.97,4.56h-.74l1.2-5.64h.9l1.85,4.56h.02l.97-4.56Z" fill="#fff"/>
                                    <path d="M68.69,20.42c-.28,1.33-1.23,2.29-2.45,2.29s-1.76-.97-1.48-2.29c.28-1.33,1.23-2.29,2.45-2.29s1.76.97,1.48,2.29ZM69.48,20.42c.26-1.22-.01-2.97-2.12-2.97s-3.12,1.75-3.38,2.97c-.26,1.22.01,2.97,2.12,2.97s3.12-1.75,3.38-2.97Z" fill="#fff"/>
                                    <path d="M71.7,18.25h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM71.15,20.82h1.85c.91,0,.89.54.79,1.01-.04.21-.2,1.07-.17,1.41h.94l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                    <path d="M75.93,17.59h4.58l-.14.68h-1.91l-1.06,4.97h-.76l1.06-4.97h-1.91l.14-.68Z" fill="#fff"/>
                                    <path d="M84.94,17.59h.76l-1.2,5.64h-.76l.56-2.63h-2.95l-.56,2.63h-.76l1.2-5.64h.76l-.5,2.33h2.95l.5-2.33Z" fill="#fff"/>
                                    <path d="M89.94,23.24h-4.16l1.2-5.64h4.11l-.14.68h-3.35l-.37,1.73h3.09l-.14.68h-3.09l-.4,1.89h3.4l-.14.68Z" fill="#fff"/>
                                    <path d="M92.85,18.25h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM92.31,20.82h1.85c.91,0,.89.54.79,1.01-.04.21-.2,1.07-.17,1.41h.94l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                    <path d="M101.55,17.59h.74l-1.2,5.64h-.86l-1.9-4.56h-.02l-.97,4.56h-.74l1.2-5.64h.9l1.85,4.56h.02l.97-4.56Z" fill="#fff"/>
                                    <path d="M106.28,18.25h1.38c.85,0,1.11.3,1,.82-.15.69-.64.91-1.37.91h-1.38l.37-1.74ZM104.45,23.24h2.43c1.25,0,2.08-.76,2.27-1.67.21-.97-.39-1.23-.73-1.37.68-.29.93-.81,1-1.18.16-.77-.24-1.42-1.29-1.42h-2.48l-1.2,5.64ZM105.78,20.6h1.5c.62,0,1.29.16,1.12.95-.13.63-.62,1.03-1.41,1.03h-1.63l.42-1.98Z" fill="#fff"/>
                                    <path d="M111.63,18.25h1.9c.38,0,1,.07.81.94-.18.83-.8.97-1.35.97h-1.77l.41-1.92ZM111.08,20.82h1.85c.91,0,.89.54.79,1.01-.05.21-.2,1.07-.17,1.41h.94l.03-.13c-.21-.13-.22-.25-.16-.57l.17-1.02c.14-.79-.16-.93-.45-1.06.41-.21.9-.52,1.07-1.35.25-1.19-.6-1.52-1.53-1.52h-2.61l-1.2,5.64h.76l.51-2.42Z" fill="#fff"/>
                                    <path d="M116.26,23.24h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                    <path d="M118.28,17.59h4.58l-.14.68h-1.91l-1.06,4.97h-.76l1.06-4.97h-1.91l.14-.68Z" fill="#fff"/>
                                    <path d="M123.25,23.24h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                    <path d="M128.81,19.24c.15-.87-.52-1.15-1.15-1.15-.48,0-1.32.13-1.5.99-.1.48.2.64.52.72l1.53.37c.69.17,1.15.61.96,1.51-.28,1.34-1.6,1.71-2.57,1.71-1.05,0-1.39-.31-1.59-.54-.39-.43-.38-.9-.27-1.43h.72c-.22,1.02.55,1.32,1.28,1.32.55,0,1.51-.14,1.68-.95.13-.59-.11-.78-.99-1l-1.1-.27c-.35-.09-1.13-.35-.92-1.33.19-.88.94-1.74,2.31-1.74,1.97,0,1.92,1.18,1.82,1.8h-.72Z" fill="#fff"/>
                                    <path d="M134.71,17.59h.76l-1.2,5.64h-.76l.56-2.63h-2.95l-.56,2.63h-.76l1.2-5.64h.76l-.5,2.33h2.95l.5-2.33Z" fill="#fff"/>
                                    <path d="M142.45,19.29c0-.99-.79-1.17-1.33-1.17-1.02,0-2.01.75-2.32,2.24-.28,1.33-.03,2.35,1.37,2.35.5,0,1.4-.24,1.94-1.55h.74c-.77,2.13-2.52,2.22-2.94,2.22-1.28,0-2.36-.83-1.9-3,.37-1.74,1.61-2.94,3.26-2.94,1.45,0,2.02.9,1.93,1.85h-.74Z" fill="#fff"/>
                                    <path d="M148.35,20.42c-.28,1.33-1.23,2.29-2.45,2.29s-1.76-.97-1.48-2.29c.28-1.33,1.23-2.29,2.45-2.29s1.76.97,1.48,2.29ZM149.14,20.42c.26-1.22-.01-2.97-2.12-2.97s-3.12,1.75-3.38,2.97c-.26,1.22.01,2.97,2.12,2.97s3.12-1.75,3.38-2.97Z" fill="#fff"/>
                                    <path d="M150.35,22.56h2.86l-.14.68h-3.62l1.2-5.64h.76l-1.06,4.97Z" fill="#fff"/>
                                    <path d="M159.48,17.59l-.78,3.66c-.25,1.16-1.18,2.13-2.72,2.13s-1.96-.97-1.74-2.03l.8-3.76h.76l-.76,3.55c-.26,1.23.41,1.56,1.1,1.56s1.55-.32,1.81-1.55l.76-3.57h.76Z" fill="#fff"/>
                                    <path d="M164.13,23.24l.71-3.33c.03-.17.2-.88.31-1.41h-.02l-2.59,4.74h-.75l-.58-4.73h-.02c-.11.52-.25,1.23-.28,1.4l-.71,3.33h-.74l1.2-5.64h1.09l.6,4.77h.02l2.62-4.77h1.08l-1.2,5.64h-.74Z" fill="#fff"/>
                                    <path d="M167.84,18.25h1.38c.85,0,1.11.3,1,.82-.15.69-.64.91-1.37.91h-1.38l.37-1.74ZM166.02,23.24h2.43c1.25,0,2.08-.76,2.27-1.67.21-.97-.39-1.23-.73-1.37.68-.29.93-.81,1-1.18.16-.77-.24-1.42-1.29-1.42h-2.48l-1.2,5.64ZM167.34,20.6h1.5c.62,0,1.29.16,1.12.95-.13.63-.62,1.03-1.41,1.03h-1.63l.42-1.98Z" fill="#fff"/>
                                    <path d="M172.15,23.24h-.76l1.2-5.64h.76l-1.2,5.64Z" fill="#fff"/>
                                    <path d="M175.08,20.92l1.43-2.48h.02l.3,2.48h-1.75ZM176.96,21.59l.21,1.64h.83l-.84-5.64h-.86l-3.32,5.64h.79l.94-1.64h2.26Z" fill="#fff"/>
                                    </g>
                                    </g>
                                </g>
                                </g>
                            </g>
                            </svg>
                    </div>
                </div>
                <div class="sign-content" id="signContent">
                    <div class="main-content" id="main-content">
                        <div class="main-title" id="mainTitle">Enter Name</div>
                        <div class="position" id="positionDisplay">Enter Position</div>
                        <div class="contact-info">
                            <div class="email" id="emailDisplay">Email: enter.email@unbc.ca</div>
                            <div class="phone" id="phoneDisplay">Phone: 250-960-XXXX</div>
                        </div>
                    </div>
                    <div class="alumni-badge" id="alumniBadge">
                        <!-- Alumni SVG -->
                        <?xml version="1.0" encoding="UTF-8"?>
                            <svg id="Layer_2" data-name="Layer 2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59.27 67.82">
                                 <defs>
                                     <style>
                                     .cls-1 {
                                         fill: #c2952d;
                                     }

                                     .cls-2 {
                                         fill: #231f20;
                                     }

                                     .cls-3 {
                                         fill: #fff;
                                     }

                                     .cls-4 {
                                         fill: #055b42;
                                     }
                                     </style>
                                 </defs>
                                 <g id="Layer_1-2" data-name="Layer 1">
                                     <g>
                                     <rect class="cls-1" x=".47" y="36.17" width="58.33" height="11.08"/>
                                     <path class="cls-2" d="M58.34,36.17v11.08l.46-.47H.47l.46.47v-11.08l-.46.47h58.33l-.46-.47ZM0,36.17v11.54h59.27v-12.01H0v.47Z"/>
                                     <path class="cls-4" d="M7.3,2.21v28.04c.23,5.53,1.73,16.08,9.29,24.44,5.9,6.52,8.28,8.89,13.2,12.56,5.06-3.76,7.59-6.18,13.19-12.55,8.91-10.15,9.17-22.65,9.17-24.04V2.21H7.3Z"/>
                                     <path class="cls-2" d="M51.69,2.21v28.45c0,1.37-.25,13.72-9.05,23.74-5.62,6.4-8.08,8.73-13.12,12.48h.56c-4.93-3.67-7.23-5.96-13.13-12.5-7.46-8.24-8.95-18.66-9.17-24.14,0,.02,0-28.02,0-28.02l-.47.47h44.85l-.46-.47ZM6.84,2.21v28.04c.23,5.62,1.76,16.29,9.41,24.75,5.86,6.48,8.32,8.93,13.27,12.62l.28.21.28-.21c5.05-3.75,7.65-6.23,13.26-12.61,9.02-10.28,9.28-22.94,9.28-24.35V1.74H6.84v.47Z"/>
                                     <path class="cls-1" d="M30,33.04s.43.85.85,1.02c.43.17.43.51.34.94-.08.43-.17.68.09,1.02.26.34.17,1.02,0,1.36-.17.34.17.6.68.43.51-.17,1.02.43.85.68-.17.25-.77,1.88-.08,1.88s1.11.51.85.85c-.25.34.26,1.36-.34,1.62-.6.26-.43.68-.43.68,0,0,1.36,0,1.62.43.26.43.51.77.09,1.19-.43.43-.17,1.02-.17,1.02,0,0,.43.17.77.09.34-.09.77.51.34.77-.43.26-.17.68-.17.68,0,0,.43.34.76.17.34-.17.69.85.18,1.11-.51.26-.77.77-.77.77,0,0,.77-.08.77.34s-.51.77-.43,1.11c.09.34.6.6.94.43.34-.17,1.36.09.94.51-.43.43-.68,1.11-1.02,1.19,0,0,.08.34.08.68s-.68.6-1.19.51c-.51-.08-1.96-.08-2.39.17-.43.25-.85.51-1.36.43-.51-.09-1.19-.17-1.19-.17,0,0,.14,1.7.41,1.76.66.17,2.06.45,2.66.88.6.43,1.11.94,1.02,2.13,0,0-.51-1.36-1.96-1.36.6.94,1.28,2.73-.68,4.09.17-.68.26-2.13-.94-2.9-.34,1.28-.77,3.49-2.22,3.75,0,0,1.62-2.81.08-3.92-.94.68-1.87,1.79-1.7,2.64-.51-.26-1.62-1.62-.17-2.98-1.02-.17-2.05-.17-2.73.94.26-1.36,1.22-3.01,3.26-2.93,0,0,.95-1.13.6-1.82-1.45.17-2.33-.37-2.85-.11-.51.26-.85.6-1.28.51-.43-.08-.34-.85,0-1.11,0,0,0-.51-.43-.43-.43.08-.77-.17-.68-.43.09-.26-.68-.09-1.19-.34-.51-.26.43-.68.77-.68s1.28-.94,1.62-.94c0,0-.34-.68-.94-.85-.6-.17-1.02-.85-1.02-1.11s.26-.34.68-.43c.43-.09,1.19-.34,1.19-.34,0,0,.94-.77,1.45-.43.51.34.6-.09.6-.09,0,0-.34-.43-.77-.94-.43-.51-.34-.85-.34-.85,0,0-.34,0-.68-.34-.34-.34.17-.77.68-.77s1.11-.09,1.11-.09l.43-.51s-.26-.17-1.11-.43c-.85-.26-.85-.51-.43-.94.43-.43.09-.68.09-.68,0,0-.51-.34-.6-.68-.09-.34.6-1.02,1.02-.77.43.25.68,0,.68,0v-.94s-.51-.77-.34-1.11c.17-.34-.17-.51,1.02-.09l.43-.43s-.08-.43-.25-.85c-.17-.43-.34-.85,0-1.28.34-.43.85-.77.85-.77l.68-.94s-.6-.26-.43-.6c.17-.34,1.28-1.36,1.79-1.45"/>
                                     <rect class="cls-3" x="2.94" y="40.38" width="53.43" height="11.07"/>
                                     <polygon class="cls-3" points="23.31 13.42 20.24 28.6 22.91 28.6 24.97 18.65 26.48 24.24 29.04 24.24 32.08 9.29 29.5 9.29 27.62 18.71 25.89 13.42 23.31 13.42"/>
                                     <path class="cls-3" d="M33.29,20.14l.26-1.26h1.15c.72,0,1.24.36,1.19,1.28-.08,1.24-1.02,1.7-1.45,1.69h-1.51l.35-1.72-2.5-.78-1,4.88h4.91c1.53,0,3.68-1.39,3.83-3.84.13-1.98-.46-2.53-1.32-3.16.62-.59.78-1,.76-1.93-.02-1.1-.78-1.87-1.63-1.89h-4.33l-.43,2.07,2.55.51.17-.83h.61c.42.05.61.35.58.71-.06.69-.55,1.07-.98,1.07h-.57l.2-.96-2.55-.51-.79,3.86,2.5.78Z"/>
                                     <path class="cls-3" d="M16.71,21.94c-.64,0-1.51-.16-1.39-.82l1.64-7.72h-2.72s-1.49,7-1.78,8.38c-.29,1.38,1.04,2.74,3.68,2.74s4.35-1.3,4.67-2.79c.32-1.49,1.77-8.33,1.77-8.33h-2.74l-1.63,7.69c-.15.59-.85.85-1.48.85"/>
                                     <path class="cls-3" d="M47.03,13.25c-2.33-.3-7,.73-8.03,5.57-1.03,4.83,3.33,6.05,5.68,5.7l.68-3.2c-2.28.52-3.92-.22-3.43-2.53.48-2.28,2.57-3.15,4.46-2.72l.63-2.82Z"/>
                                     <rect class="cls-1" x="7.3" y=".47" width="44.85" height="4.02"/>
                                     <path class="cls-2" d="M51.69.47v4.02l.46-.47H7.31l.46.47V.47l-.46.47h44.85l-.46-.47ZM6.84.47v4.49h45.79V0H6.84v.47Z"/>
                                     <path class="cls-2" d="M12.86,48.96h1.33l.47-1.33h2.24l.45,1.33h1.37l-2.24-5.99h-1.35l-2.27,5.99ZM15.79,44.45h.02l.75,2.2h-1.55l.78-2.2ZM19.33,48.96h4.24v-1.11h-2.92v-4.88h-1.32v5.99ZM29.46,42.97h-1.32v3.72c0,.89-.3,1.3-1.24,1.3-1.06,0-1.23-.65-1.23-1.3v-3.72h-1.32v3.72c0,1.63.94,2.41,2.55,2.41s2.56-.79,2.56-2.41v-3.72ZM30.68,48.96h1.23v-4.2h.02l1.47,4.2h1.02l1.47-4.24h.02v4.24h1.23v-5.99h-1.85l-1.32,4.12h-.02l-1.4-4.12h-1.85v5.99ZM38.37,48.96h1.23v-4.01h.02l2.49,4.01h1.32v-5.99h-1.23v4.02h-.02l-2.5-4.02h-1.31v5.99ZM44.66,48.96h1.32v-5.99h-1.32v5.99Z"/>
                                     <path class="cls-2" d="M55.9,50.98H3.4v-10.14h52.5v10.14ZM56.81,39.91l-5.47-2.41c-.1.5-.23,1.02-.36,1.56H8.56c-.14-.56-.27-1.12-.38-1.66l-5.69,2.52h-.02v12h54.36v-12h-.02Z"/>
                                     </g>
                                 </g>
                                 </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const signType = document.getElementById('signType');
        const department = document.getElementById('department');
        const isAlumni = document.getElementById('isAlumni');
        const name = document.getElementById('name');
        const position = document.getElementById('position');
        const email = document.getElementById('email');
        const phone = document.getElementById('phone');
        const roomName = document.getElementById('roomName');
        
        const doorSign = document.getElementById('doorSign');
        const signContent = document.getElementById('signContent');
        const alumniBadge = document.getElementById('alumniBadge');
        const mainTitle = document.getElementById('mainTitle');
        const positionDisplay = document.getElementById('positionDisplay');
        const emailDisplay = document.getElementById('emailDisplay');
        const phoneDisplay = document.getElementById('phoneDisplay');
        
        const nameField = document.getElementById('nameField');
        const positionField = document.getElementById('positionField');
        const emailField = document.getElementById('emailField');
        const phoneField = document.getElementById('phoneField');
        const roomField = document.getElementById('roomField');

        const svgDepartmentText = document.getElementById('svgDepartmentText');

        // New elements
        const mainDepartment = document.getElementById('mainDepartment');
        const subDepartment = document.getElementById('subDepartment');
        const subDepartmentGroup = document.getElementById('subDepartmentGroup');

        // New elements for designations
        const enableDesignations = document.getElementById('enableDesignations');
        const designationField = document.getElementById('designationField'); // The new container div
        const designationOptions = document.getElementById('designationOptions'); // The div containing checkboxes
        const customDesignationInput = document.getElementById('customDesignation'); // The custom input field
        const designationsDisplay = document.createElement('div'); // Create the designation display element
        designationsDisplay.id = 'designationsDisplay';
        designationsDisplay.className = 'designations-display'; // Add a class for potential styling

        // Department structure (to be populated)
        const departmentData = {
            "President": [],
            "Athletics": [],
            "Office of Indigenous Initiatives": [],
            "Vice-President, Finance and Administration": [
                "Facilities",
                "Financial Services",
                "Human Resources",
                "Information Technology Services",
                "Institutional Research",
                "Parking Services",
                "Safety and Risk Management",
                "Security"
            ],
            "Financial Services": [
                "Budgets and Reporting",
                "Contracts and Supply Chain Management",
                "Financial Services and Systems",
                "Payroll Services",
                "Research Accounting",
                "Treasury Services"
            ],
            "Information Technology Services": [
                "Administrative and Enterprise Systems",
                "Client Services",
                "Educational Media Services",
                "Service Desk",
                "Infrastructure Services"
            ],
            "Vice-President, Research and Innovation": [
                "Alumni Relations",
                "Communications and Marketing",
                "Office of Research and Innovation",
                "Development"
            ],
            "Provost and Vice-President, Academic": [],
            "Faculty of Human and Health Sciences": [
                "Department of Psychology",
                "School of Education",
                "School of Health Sciences",
                "School of Nursing",
                "School of Social Work"
            ],
            "Faculty of Indigenous Studies, Social Sciences and Humanities": [
                "Department of Anthropology",
                "Department of English",
                "Department of First Nations Studies",
                "Department of History",
                "Department of Global and International Studies",
                "Department of Political Science",
                "Women's and Gender Studies",
                "Northern Studies",
                "Interdisciplinary Studies"
            ],
             "Division of Medical Sciences": [
                 "UBC Northern Medical Program (NMP)",
                 "UBC Master of Physical Therapy - North",
                 "UBC Master of Occupational Therapy (MOT) - Northern and Rural Cohort",
                 "UBC Postgraduate Medical Education - Residency Training"
             ],
             "UBC Postgraduate Medical Education - Residency Training": [
                 "Family Medicine",
                 "Psychiatry (Prince George)",
                 "Pediatrics (Community Impact Stream)",
                 "Other Royal College of Physicians and Surgeons of Canada residency programs on rotation to the north"
             ],
             "Family Medicine": [
                 "Rural Fort St. John",
                 "Rural Northwest-Terrace",
                 "Northern Rural-Prince George",
                 "Prince George"
             ],
             "Other Royal College of Physicians and Surgeons of Canada residency programs on rotation to the north": [
                 "General Surgery",
                 "Internal Medicine",
                 "Obstetrics/Gynecology"
             ],
            "Faculty of Science and Engineering": [
                "Chemistry and Biochemistry",
                "Computer Science",
                "Integrated Science",
                "Mathematics and Statistics",
                "Physics",
                "School of Engineering"
            ],
            "Faculty of Environment": [
                "Department of Geography, Earth and Environmental Sciences",
                "Department of Ecosystem Science and Management",
                "School of Planning and Sustainability"
            ],
            "Department of Geography, Earth and Environmental Sciences": [
                "Environmental Science",
                "Geography"
            ],
            "Department of Ecosystem Science and Management": [
                "Biology",
                "Conservation Science and Practice",
                "Forest Ecology and Management",
                "Outdoor Recreation and Tourism Management",
                "Wildlife and Fisheries"
            ],
            "School of Planning and Sustainability": [
                "Environmental and Sustainability Studies",
                "Planning"
            ],
            "Faculty of Business and Economics": [
                "School of Business",
                "Economics"
            ]
        };

        // Function to populate the main department dropdown
        function populateMainDepartments() {
            mainDepartment.innerHTML = '<option value="">Select Main Department</option>'; // Add a default option
            const mainDepts = Object.keys(departmentData);
            mainDepts.forEach(mainDept => {
                const option = document.createElement('option');
                option.value = mainDept;
                option.textContent = mainDept;
                mainDepartment.appendChild(option);
            });
        }

        // Function to populate sub-department dropdown based on main department selection
        function populateSubDepartments(selectedMainDept) {
            subDepartment.innerHTML = '<option value="none">No Sub-Department</option>'; // Default option
            const subDepts = departmentData[selectedMainDept];
            if (subDepts && subDepts.length > 0) {
                subDepts.forEach(subDept => {
                    const option = document.createElement('option');
                    option.value = subDept;
                    option.textContent = subDept;
                    subDepartment.appendChild(option);
                });
                subDepartmentGroup.style.display = 'block';
            } else {
                subDepartmentGroup.style.display = 'none';
            }
        }

        // Event listener for main department change
        mainDepartment.addEventListener('change', function() {
            populateSubDepartments(this.value);
            updateSign(); // Update sign whenever main department changes
        });

        // Event listener for sub department change
        subDepartment.addEventListener('change', function() {
            updateSign(); // Update sign whenever sub department changes
        });

        // Add the designation display element to the sign content
        document.getElementById('main-content').insertBefore(designationsDisplay, positionDisplay);

        // Event listener for designations checkbox
        enableDesignations.addEventListener('change', function() {
            designationField.style.display = this.checked ? 'block' : 'none';
            updateSign(); // Update sign when checkbox changes
        });

        // Event listeners for the new designation inputs
        designationOptions.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
            checkbox.addEventListener('change', updateSign);
        });
        customDesignationInput.addEventListener('input', updateSign);
        
        // Helper function to wrap text based on character limit
        function wrapText(text, maxCharsPerLine) {
            const words = text.split(' ');
            let currentLine = '';
            const lines = [];

            words.forEach(word => {
                if (currentLine.length + word.length + (currentLine ? 1 : 0) > maxCharsPerLine) {
                    lines.push(currentLine);
                    currentLine = word;
                } else {
                    if (currentLine) {
                        currentLine += ' ' + word;
                    } else {
                        currentLine = word;
                    }
                }
            });
            lines.push(currentLine); // Add the last line

            return lines; // Return array of lines
        }

        function updateSign() {
            const type = signType.value;
            const alumni = isAlumni.checked;
            
            // Determine which department name to display
            const selectedMainDept = mainDepartment.value;
            const selectedSubDept = subDepartment.value;
            const displayDept = selectedSubDept && selectedSubDept !== 'none' ? selectedSubDept : selectedMainDept;

            // Update header
            // Wrap the department text before setting it
            const lines = wrapText(displayDept, 25); // Adjust 20 as needed

            // Clear previous content and add tspans for wrapped text
            svgDepartmentText.innerHTML = ''; // Clear existing content

            let firstLine = true;
            lines.forEach(line => {
                const tspan = document.createElementNS('http://www.w3.org/2000/svg', 'tspan');
                tspan.textContent = line;
                tspan.setAttribute('x', '0'); // Start at the same x position
                if (!firstLine) {
                    // Adjust dy based on font size if needed, 1.2em is a common line-height
                    tspan.setAttribute('dy', '1.2em'); 
                }
                svgDepartmentText.appendChild(tspan);
                firstLine = false;
            });

            alumniBadge.style.display = alumni ? 'flex' : 'none';
            
            // Show/hide fields based on sign type
            if (type === 'general' || type === 'custodian') {
                nameField.style.display = 'none';
                positionField.style.display = 'none';
                emailField.style.display = 'none';
                phoneField.style.display = 'none';
                roomField.style.display = 'block';

                // Hide designation fields for these types
                designationsToggle.style.display = 'none';
                designationField.style.display = 'none';
                designationsDisplay.style.display = 'none';
                
                signContent.className = 'sign-content ' + (type === 'custodian' ? 'custodian-closet' : 'general-room');
                
                if (type === 'custodian') {
                    mainTitle.textContent = 'Custodian\nCloset';
                    mainTitle.style.whiteSpace = 'pre-line';
                } else {
                    mainTitle.textContent = roomName.value || 'Room Name';
                    mainTitle.style.whiteSpace = 'normal';
                }
                
                positionDisplay.style.display = 'none';
                document.querySelector('.contact-info').style.display = 'none';
            } else {
                nameField.style.display = 'block';
                positionField.style.display = 'block';
                emailField.style.display = 'block';
                phoneField.style.display = 'block';
                roomField.style.display = 'none';

                // Show designation toggle for these types
                designationsToggle.style.display = 'block';
                // Show designation input field only if enabled checkbox is checked
                designationField.style.display = enableDesignations.checked ? 'block' : 'none';
                
                signContent.className = 'sign-content';
                mainTitle.style.whiteSpace = 'normal';
                
                // Explicitly show content display areas
                mainTitle.style.display = 'block';
                positionDisplay.style.display = 'block';
                document.querySelector('.contact-info').style.display = 'block';
                
                // Update content
                let displayName = name.value || 'Enter Name';

                // Get selected checkboxes
                const selectedDesignations = Array.from(designationOptions.querySelectorAll('input[type="checkbox"]'))
                    .filter(checkbox => checkbox.checked)
                    .map(checkbox => checkbox.value);

                // Get custom designation
                const customDesignation = customDesignationInput.value.trim();

                // Combine and format designations
                const allDesignations = [...selectedDesignations];
                if (customDesignation) {
                    // Split custom designations by comma and trim whitespace
                    const customList = customDesignation.split(',').map(item => item.trim()).filter(item => item !== '');
                    allDesignations.push(...customList);
                }

                const formattedDesignations = allDesignations.join(', ');

                if (enableDesignations.checked && formattedDesignations) {
                    displayName += ','; // Add comma after name if designations are enabled and present
                    designationsDisplay.textContent = `(${formattedDesignations})`; // Format designations
                    designationsDisplay.style.display = 'block'; // Show designations
                } else {
                    designationsDisplay.textContent = ''; // Clear designations
                    designationsDisplay.style.display = 'none'; // Hide designations
                }
                
                mainTitle.textContent = displayName; // Set the potentially modified name
                positionDisplay.textContent = position.value || 'Enter Position';
                
                const emailText = email.value || 'enter.email@unbc.ca';
                const phoneText = phone.value || '250-960-XXXX';
                
                emailDisplay.textContent = `Email: ${emailText}`;
                phoneDisplay.textContent = `Phone: ${phoneText}`;
                
                // Special handling for lab signs
                if (type === 'lab') {
                    const labName = name.value ? `${name.value} Lab` : 'Lab Name';
                    mainTitle.textContent = labName;
                }
            }
        }

        // Event listeners (moved here to ensure elements exist)
        [signType, isAlumni, name, position, email, phone, roomName, mainDepartment, subDepartment].forEach(element => {
            if (element) { // Check if element exists before adding listener
                element.addEventListener('input', updateSign);
                element.addEventListener('change', updateSign);
            }
        });

        // Initial state for designations field
        designationField.style.display = enableDesignations.checked ? 'block' : 'none';

        function exportSign() {
            // Create a canvas and convert the sign to image
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const sign = document.getElementById('doorSign');
            
            canvas.width = 1000; // 2x for high resolution
            canvas.height = 600;
            
            // This is a simplified export - in a real implementation you'd use html2canvas or similar
            alert('Export functionality would be implemented with html2canvas library for production use. This demo shows the interface and preview functionality.');
        }

        // Initialize dropdowns and sign
        populateMainDepartments();
        updateSign();
    </script>
</body>
</html>